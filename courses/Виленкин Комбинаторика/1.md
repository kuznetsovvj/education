# Глава 1. Общие правила комбинаторики

## § 1-4

Правило суммы: если некоторый объект А можно выбрать m способами, а другой объект B можно выбрать n способами, то выбор "либо А, либо B" можно осуществить m+n способами.

Правило произведения: если объект А можно выбрать m способами и если после каждого такого выбора объект B можно выбрать n способами, то выбор пары (A; B) в указанном порядке можно осуществить mn способами.

Задачи:

1. Из двух спортивных обществ, насчитывающих по 100 фехтовальщиков каждое, надо выделить по одному фехтовальщику для учаситя в состязании. Скольки способами может быть сделан этот выбор? 100×100 = 10 000.
1. Из города А в город B ведут пять дорог, а из города B в город C - три. Сколько путей, проходящих через B, ведут из А в C? 15.
1. Имеется 5 видео конвертов без марок и 4 вида марок. Сколькими способами можно выбрать конверт с маркой для посылки письма? 20.
1. В группе из 16 детей 7 родились в Москве, 4 - в Санкт-Петербурге, 3 - в Киеве и 2 - в Минске. Сколькими способами можно выбрать из них 4 детей так, чтобы в группе были уроженцы всех 4 городов? 7×4×3×2 = 168.
1. Сколько букв, содержащих по пяти букв каждое, можно составить из 33 букв, если допускаются повторения, но никакие две соседние буквы не должны совпадать, т.е. такие слова как "пресс" или "ссора", не допускаются? 33×32×32×32×32 = 34 603 008
1. Сколькими способами можно выбрать гласную и согласную буквы из слова "здание"? А из слова "камзол"? 9 и 8.
1. Бросают игральную кость с 6 гранями и запускают волчок, имеющий 8 граней. Сколькими различными способами они могут упасть? 48.
1. На вершину горы ведут пять дорог. Сколькими способами турист может подняться в гору и потом спуститься с нее? Решите ту же задачу при дополнительном условии, что подъем и спуск происходят по разным дорогам. 25 и 20.
1. На ферме есть 20 овец и 24 свиньи (все разной упитанности). Сколькими способами можно выбрать одну овцу и одну свинью? Если такой выбор уже сделан, сколькими способами можно сделать его еще раз? 20×24 = 480 и 19×23 = 437.
1. На шахматную доску надо поставить короля и ферзя. Сколькими способами это можно сделать, если короля надо поставить на белое поле, а ферзя - на черное? А если на цвет полей нет ограничений? А если обе фигуры надо поставить на белые поля? 32×32 = 1 024, 64×63 = 4 032, 32×31 = 992.
1. Сколькими способами можно выбрать на шахматной доске белое и черное поля, не лежащие на одной горизонтали или одной вертикали? 32×(32-8) = 32×24 = 768.
1. Из 12 слов мужского рода, 9 женскгого и 10 среднего нужно выбрать по одному слову каждого рода. Сколькими способами может быть сделан этот выбор? 12×9×10 = 1 080.
1. Из 3 типов ручек, 7 типов карандашей и 7 типов ластиков надо выбрать ручку, карандаш и ластик. Сколькими способами это можно сделать? 3×7×7 = 147.
1. В букинистическом магазине лежат 6 разных изданий романа И.С.Тургенева "Рудин", 3 издания его же романа "Дворянское гнездо" и 4 издания романа "Отцы и дети". Кроме того, есть 5 разных сборников, в каждом из которых есть романы "Рудин" и "Дворянское гнездо", и 7 сборников с романами "Дворянское гнездо" и "Отцы и дети". Сколько способами можно соделать покупку, содержащую по одному экземпляру каждого из этих романов? А если в магазине есть еще 3 сборника, содержащие романы "Рудин" и "Отцы и дети", и 5 книг, содержащих все три романа? *Решение:* 5×4 + 6×7 + 6×3×4 = 134 (сначала комбинация сборник + одиночная книга, потом наборы из трех книг), 148.
1. В корзине лежат 12 яблок и 10 апельсинов. Ваня выбирает из нее яблоко или апельсин, после чего Надя берет и яблоки, и апельсин. В каком случае Надя имеет большую свободу выбора: если Ваня взял яблоко или если он взял апельсин? Яблоко (11×10 = 110 вариантов после взятия яблоко против 12×9 = 108 вариантов после взятия апельсина).
1. Имеются три волчка с 6, 8 и 10 гранями соответственно. Их одновременно запустили. Сколькими различными способами они могут упасть? Сколько среди них способов, при которых по крайней мере два волчка упали на сторону, помеченную цифрой 1? Всего 6×8×10 = 480 вариантов. С хотя бы двумя цифрами "1": 1 (все три "1") + 5 + 7 + 9 (два волчка на "1", третий - не на "1") = 22.
1. У англичан принято давать ребенку несколько имен. Сколькими способами в Англии можно назвать ребенка, если общее количество имен равно 300, а ему дают не более трех имен? Хватит ли этих наборов на всех англичан (57 млн. человек) или неприменно найдутся англичане с одинаковыми именами? 300 + 300×299 + 300×299×298 = 26 820 600, найдутся англичане с одинаковыми именами.
1. Сколько есть чисел от 0 до 999 999, в которых нет двух рядом стоящих одинаковых чисел? 1 + 9 + 9×9 + ... + 9×9×9×9×9×9 = 597 871.
1. Какое наибольшее число различных шаров можно построить в пространстве так, чтобы они касались трех данных плоскостей и данного шара? *Решение:* Я остался очень недоволен условием, количество шаров зависит от взаимной конфигурации плоскостей и шара. Аналогичную задачу на плоскости (построить окружности по заданным двум прямым и окружности) имеет три решения: 4 окружности, если точка пересечения заданных прямых лежит внутри заданной окружности; 2 окружности, если прямые пересекаются, но точка пересечения не лежит внутри заданной окружности; 0, если прямые параллельны.
1. Можно ли выписать девять чисел 1, 2, ..., 9 по кругу так, чтобы сумма никаких двух соседних чисел не делилась ни на 3, ни на 5, ни на 7? *Решение:* Да, можно. 629471385... Как прийти к решению? У 4 только два допустимых соседа - 7 и 9. У цифры 1 только два допустимых соседа - 3 и 7, а у цифры 2 - только 6 и 9, после чего получаем последовательность "6294713", распределеям оставшиеся 8 и 5.
1. В соревнованиях по хоккею участвовали пять команд: A, B, C, D, E. В конкурсе знатоков один участник предположил, что они займут места в порядке A, B, C, D, E, а другой предсказал порядок D, A, E, C, B. После окончания соревнований оказалось, что первый не угадал не только место хотя бы одной из команд, но даже какую-либо пару следующих друг за другом команд. Второй же угадал места двух команд и две пары следующих друг за другом команд. В каком порядке расположились команды? E, D, A, C, B. *Решение:* допустим, что второй угадал пару команд с точным указанием мест, а вторую пару - без указания мест. Пары с точным указаниям могут занимать только места 1 и 2 (т.е. D A) или 4 и 5 (т.е. C B на конце). Перебором пробуем варианты, проверяя из соответствие на то, что первый прогнозист не угадал ничего.
1. Квадрат разделен на 16 разных квадратов. Сколькими способами можно раскрасить их в белый, черный, красный и синий цвета так, чтобы в каждом горизонтальном и каждом вертикальном ряду были все четыре цвета? 576. *Решение:* мое первое решение было ошибочным, заполнял по строкам 24×6×2 = 288, без учета сложной картинки при заполнении третьего и четвертого рядов. Верное решение полностью расписано в "Ответах", страница 329 издания 2019 год.

## § 5-10

Размещение с повторением из n элементов по k: $\overline A^k_n = n^k$

Задачи:

23. Сколькими способами можно разложить в два кармана девять монет различного достоинства? $2^9 = 512$
24. Надо срочнот доставить 6 пакетов разным адресатам. Сколькими способами это можно сделать, если для передачи писем можно послать трех курьеров, и каждое письмо можно дать любому из курьеру? (Курьер сам решает, в каком порядке доставлять данные ему письма.) $3^6 = 729$
25. Четверо студентов сдают экзамен. Сколькими способами могут быть поставлены им отметки, если известно, что все студенты экзамен сдали (получив отметку 3, 4 или 5)? $3^4 = 81$
26. Из Лондона в Брайтон ведут 2 шоссе, соединенные 10 проселочным дорогами. Сколькими способами можно проехать из Лондона в Брайтон так, чтобы дорога не пересекала себя? $2^{11} = 2048$
27. Пусть при том же условии два путешественника выезжают из Лондона по разным шоссе так, что ни один участок шоссе они не проезжают в одном и том же направлении? $2^{10} = 1024$
28. Из Лондона в Кембридж ведут 3 шоссе, пересекаемые 4 проселочными дорогами. Сколькими способами можно совершить путешествие, если ни по одному участку шоссе не едут в направлении Лондона и ни один участок не проезжают дважды? $3^5 = 243$
29. Когда-то автомобильные номера состояли из одной, двух или трех букв и следующих за ними четырех цифр. Найдите число таких номеров, если использовались 32 буквы. $32^3*10^4 + 32^2*10^4 + 32*10^4$
30. В 2004 году в России давали автомобильные номера типа 77х451хо, в которых употреблялись цифры и кириллистические буквы, имеющие аналог в латинском алфавите (таких 12). Первые два элементы - цифры (код региона), затем идет буква, затем трехзначное число и под конец еще две буквы. а) Сколько таких автомобильных номеров могли выдать в России? б) На Москву были выделены коды региона 77, 97 и 99. Сколько номеров могли выдать в Москве? Есть нюанс, что "000" не используется для автомобильного номера (как и регион "00"): $99*12*999*(12)^2$, $3*12*999*(12)^2$
31. В некотором государстве не было двух жителей с одинаковым набором зубов. Какова может быть наибольшая численность населения этого государства (во рту человека может быть не более 32 зубов)? $2^{32}$
32. Сколько чисел, меньших миллиона, можно написать с помощью цифр: а) 8 и 9; б) 7, 8 и 9; в) 0, 8, 9 (с цифры 0 число начинаться не может)? а) $2^6 + 2^5 + 2^4 + 2^3 + 2^2 + 2$ б) $3^6 + 3^5 + 3^4 + 3^3 + 3^2 + 3$ в) $2(3^5 + 3^4 + 3^3 + 3^2 + 3)$
33. Трое юношей и две девушки выбирают себе место работы. В городе есть три завода, где требуются рабочие (туда берут лишь мужчин), два магазина, куда берут лишь женщин, и две фирмы, куда требуются и мужчины, и женщины. Сколькими способами они могут распределиться между этими предприятиями? $5^3*4^2$
34. Имеются три курицы, четыре утки и два гуся. Сколькими способами можно выбрать из них несколько птиц так, чтобы среди выбранных оказались и куры, и утки, и гуси? $(2^3-1)*(2^4-1)*(2^2-1) = 315$
35. На перекрестке имеется m светофоров. Сколько может быть различных состояний этих светофооров, если каждый светофор (независимо от остальных) имеет три возможных состояния: 1) горит зеленый; 2) горит желтый; 3) горит красный? Решите ту же задачу, если допускаются всевозможные комбинации огней каждого светофора (например, горит одновременно зеленый и красный или ничего не горит). $3^m$, $8^m$.
36. Сколько можно составить из 32 букв шестибуквенных слов, содержащих хотя бы один раз букву "а"? $6*32^5$
37. В селении проживают 1000 жителей. Докажите, что по крайней мере двое из них имеют одинаковые инициалы. Если исключить буквы Ъ и Ь, то в русском языке 31 буква. $31^2 = 961 < 1000$.
38. Сколько существует семизначных телефонных номеров, в первых 3 цифрах которых не встречаются цифры 0 и 9? $8^3*10^4$

