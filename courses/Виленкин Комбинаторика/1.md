# Глава 1. Общие правила комбинаторики

Правило суммы: если некоторый объект А можно выбрать m способами, а другой объект B можно выбрать n способами, то выбор "либо А, либо B" можно осуществить m+n способами.

Правило произведения: если объект А можно выбрать m способами и если после каждого такого выбора объект B можно выбрать n способами, то выбор пары (A; B) в указанном порядке можно осуществить mn способами.

Задачи:

1. Из двух спортивных обществ, насчитывающих по 100 фехтовальщиков каждое, надо выделить по одному фехтовальщику для учаситя в состязании. Скольки способами может быть сделан этот выбор? 100×100 = 10 000.
2. Из города А в город B ведут пять дорог, а из города B в город C - три. Сколько путей, проходящих через B, ведут из А в C? 15.
3. Имеется 5 видео конвертов без марок и 4 вида марок. Сколькими способами можно выбрать конверт с маркой для посылки письма? 20.
4. В группе из 16 детей 7 родились в Москве, 4 - в Санкт-Петербурге, 3 - в Киеве и 2 - в Минске. Сколькими способами можно выбрать из них 4 детей так, чтобы в группе были уроженцы всех 4 городов? 7×4×3×2 = 168.
5. Сколько букв, содержащих по пяти букв каждое, можно составить из 33 букв, если допускаются повторения, но никакие две соседние буквы не должны совпадать, т.е. такие слова как "пресс" или "ссора", не допускаются? 33×32×32×32×32 = 34 603 008
6. Сколькими способами можно выбрать гласную и согласную буквы из слова "здание"? А из слова "камзол"? 9 и 8.
7. Бросают игральную кость с 6 гранями и запускают волчок, имеющий 8 граней. Сколькими различными способами они могут упасть? 48.
8. На вершину горы ведут пять дорог. Сколькими способами турист может подняться в гору и потом спуститься с нее? Решите ту же задачу при дополнительном условии, что подъем и спуск происходят по разным дорогам. 25 и 20.
9. На ферме есть 20 овец и 24 свиньи (все разной упитанности). Сколькими способами можно выбрать одну овцу и одну свинью? Если такой выбор уже сделан, сколькими способами можно сделать его еще раз? 20×24 = 480 и 19×23 = 437.
10. На шахматную доску надо поставить короля и ферзя. Сколькими способами это можно сделать, если короля надо поставить на белое поле, а ферзя - на черное? А если на цвет полей нет ограничений? А если обе фигуры надо поставить на белые поля? 32×32 = 1 024, 64×63 = 4 032, 32×31 = 992.
11. Сколькими способами можно выбрать на шахматной доске белое и черное поля, не лежащие на одной горизонтали или одной вертикали? 32×(32-8) = 32×24 = 768.
12. Из 12 слов мужского рода, 9 женскгого и 10 среднего нужно выбрать по одному слову каждого рода. Сколькими способами может быть сделан этот выбор? 12×9×10 = 1 080.
13. Из 3 типов ручек, 7 типов карандашей и 7 типов ластиков надо выбрать ручку, карандаш и ластик. Сколькими способами это можно сделать? 3×7×7 = 147.
14. В букинистическом магазине лежат 6 разных изданий романа И.С.Тургенева "Рудин", 3 издания его же романа "Дворянское гнездо" и 4 издания романа "Отцы и дети". Кроме того, есть 5 разных сборников, в каждом из которых есть романы "Рудин" и "Дворянское гнездо", и 7 сборников с романами "Дворянское гнездо" и "Отцы и дети". Сколько способами можно соделать покупку, содержащую по одному экземпляру каждого из этих романов? А если в магазине есть еще 3 сборника, содержащие романы "Рудин" и "Отцы и дети", и 5 книг, содержащих все три романа? *Решение:* 5×4 + 6×7 + 6×3×4 = 134 (сначала комбинация сборник + одиночная книга, потом наборы из трех книг), 148.
15. В корзине лежат 12 яблок и 10 апельсинов. Ваня выбирает из нее яблоко или апельсин, после чего Надя берет и яблоки, и апельсин. В каком случае Надя имеет большую свободу выбора: если Ваня взял яблоко или если он взял апельсин? Яблоко (11×10 = 110 вариантов после взятия яблоко против 12×9 = 108 вариантов после взятия апельсина).
16. Имеются три волчка с 6, 8 и 10 гранями соответственно. Их одновременно запустили. Сколькими различными способами они могут упасть? Сколько среди них способов, при которых по крайней мере два волчка упали на сторону, помеченную цифрой 1? Всего 6×8×10 = 480 вариантов. С хотя бы двумя цифрами "1": 1 (все три "1") + 5 + 7 + 9 (два волчка на "1", третий - не на "1") = 22.
17. У англичан принято давать ребенку несколько имен. Сколькими способами в Англии можно назвать ребенка, если общее количество имен равно 300, а ему дают не более трех имен? Хватит ли этих наборов на всех англичан (57 млн. человек) или неприменно найдутся англичане с одинаковыми именами? 300 + 300×299 + 300×299×298 = 26 820 600, найдутся англичане с одинаковыми именами.
18. Сколько есть чисел от 0 до 999 999, в которых нет двух рядом стоящих одинаковых чисел? 1 + 9 + 9×9 + ... + 9×9×9×9×9×9 = 597 871.
19. Какое наибольшее число различных шаров можно построить в пространстве так, чтобы они касались трех данных плоскостей и данного шара? *Решение:* Я остался очень недоволен условием, количество шаров зависит от взаимной конфигурации плоскостей и шара. Аналогичную задачу на плоскости (построить окружности по заданным двум прямым и окружности) имеет три решения: 4 окружности, если точка пересечения заданных прямых лежит внутри заданной окружности; 2 окружности, если прямые пересекаются, но точка пересечения не лежит внутри заданной окружности; 0, если прямые параллельны.
20. Можно ли выписать девять чисел 1, 2, ..., 9 по кругу так, чтобы сумма никаких двух соседних чисел не делилась ни на 3, ни на 5, ни на 7? *Решение:* Да, можно. 629471385... Как прийти к решению? У 4 только два допустимых соседа - 7 и 9. У цифры 1 только два допустимых соседа - 3 и 7, а у цифры 2 - только 6 и 9, после чего получаем последовательность "6294713", распределеям оставшиеся 8 и 5.
21. В соревнованиях по хоккею участвовали пять команд: A, B, C, D, E. В конкурсе знатоков один участник предположил, что они займут места в порядке A, B, C, D, E, а другой предсказал порядок D, A, E, C, B. После окончания соревнований оказалось, что первый не угадал не только место хотя бы одной из команд, но даже какую-либо пару следующих друг за другом команд. Второй же угадал места двух команд и две пары следующих друг за другом команд. В каком порядке расположились команды? E, D, A, C, B. *Решение:* допустим, что второй угадал пару команд с точным указанием мест, а вторую пару - без указания мест. Пары с точным указаниям могут занимать только места 1 и 2 (т.е. D A) или 4 и 5 (т.е. C B на конце). Перебором пробуем варианты, проверяя из соответствие на то, что первый прогнозист не угадал ничего.
22. Квадрат разделен на 16 разных квадратов. Сколькими способами можно раскрасить их в белый, черный, красный и синий цвета так, чтобы в каждом горизонтальном и каждом вертикальном ряду были все четыре цвета? 576. *Решение:* мое первое решение было ошибочным, заполнял по строкам 24×6×2 = 288, без учета сложной картинки при заполнении третьего и четвертого рядов. Верное решение полностью расписано в "Ответах", страница 329 издания 2019 год.
